[33mcommit 947f531c5aa9b356436e2e6a16601e7fb6c77e08[m
Author: Cat like fish <tangfeng.email@qq.com>
Date:   Wed May 11 20:26:03 2022 +0800

    keep

[1mdiff --git a/hexo-blog/source/_posts/Build-tree.md b/hexo-blog/source/_posts/Build-tree.md[m
[1mnew file mode 100644[m
[1mindex 0000000..a84623b[m
[1m--- /dev/null[m
[1m+++ b/hexo-blog/source/_posts/Build-tree.md[m
[36m@@ -0,0 +1,58 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: æ ¹æ®æ•°ç»„ç”ŸæˆäºŒå‰æ ‘[m
[32m+[m[32mcategories: [ç®—æ³•][m
[32m+[m[32mtags: [äºŒå‰æ ‘ç”Ÿæˆ][m
[32m+[m[32m---[m
[32m+[m
[32m+[m[32m#[m[41m [m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m# å®šä¹‰äºŒå‰æ ‘[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32mstruct TreeNode{[m
[32m+[m[41m  [m	[32mint val;[m
[32m+[m[32m    TreeNode* left;[m
[32m+[m[32m    TreeNode* right;[m
[32m+[m[32m    TreeNode(int _val):val(_val){};[m
[32m+[m[32m};[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m# å±‚åºéå†äº§ç”Ÿ[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <vector>[m
[32m+[m[32m#include <queue>[m
[32m+[m
[32m+[m[32mint main(){[m
[32m+[m	[32mvector<int> tree = {'1','#','1','#','1','#','1','#','1'};[m
[32m+[m[32m    int length = tree.size();[m
[32m+[m	[32mqueue<TreeNode*> Q;[m
[32m+[m[32m    TreeNode* root;[m
[32m+[m[32m    if(tree[0]=='1'){[m
[32m+[m[32m        root = new TreeNode(0);[m
[32m+[m[41m    [m	[32mQ.push(root);[m
[32m+[m[32m    }[m
[32m+[m[32m    int index = 0;[m
[32m+[m[32m    while(!Q.empty()){[m
[32m+[m[32m        int len = Q.size();[m
[32m+[m[32m        for(int i=0;i<len;i++){[m
[32m+[m[32m            TreeNode* temp = Q.front();[m
[32m+[m[32m            Q.pop();[m
[32m+[m[32m            index++;[m
[32m+[m[32m            if(index<length&&tree[index]=='1'){[m
[32m+[m[32m                temp->left = new TreeNode(0);[m
[32m+[m[32m                Q.push(temp->left);[m
[32m+[m[32m            }[m
[32m+[m[32m            index++;[m
[32m+[m[32m            if(index<length&&tree[index]=='1'){[m
[32m+[m[32m                temp->right = new TreeNode(0);[m
[32m+[m[32m                Q.push(temp->right);[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m	[32mreturn 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[1mdiff --git "a/hexo-blog/source/_posts/c-\345\206\205\345\255\230\346\250\241\345\236\213\345\222\214\345\216\237\345\255\220\346\223\215\344\275\234.md" "b/hexo-blog/source/_posts/c-\345\206\205\345\255\230\346\250\241\345\236\213\345\222\214\345\216\237\345\255\220\346\223\215\344\275\234.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..0438de2[m
[1m--- /dev/null[m
[1m+++ "b/hexo-blog/source/_posts/c-\345\206\205\345\255\230\346\250\241\345\236\213\345\222\214\345\216\237\345\255\220\346\223\215\344\275\234.md"[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: c++å†…å­˜æ¨¡å‹å’ŒåŸå­æ“ä½œ[m
[32m+[m[32mdate: 2022-05-10 09:53:32[m
[32m+[m[32mtags: [åŸå­æ“ä½œ][m
[32m+[m[32mcategories: [ç®—æ³•][m
[32m+[m[32m---[m
[32m+[m
[32m+[m
[32m+[m[32m----------------------------[m
[32m+[m
[32m+[m[32m# 1. c++ä¸­çš„åŸå­æ“ä½œåŠå…¶ç±»åˆ«[m
[1mdiff --git "a/hexo-blog/source/_posts/c-\345\244\232\347\272\277\347\250\213\344\272\244\346\233\277\346\211\223\345\215\260AB.md" "b/hexo-blog/source/_posts/c-\345\244\232\347\272\277\347\250\213\344\272\244\346\233\277\346\211\223\345\215\260AB.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..d1d53a7[m
[1m--- /dev/null[m
[1m+++ "b/hexo-blog/source/_posts/c-\345\244\232\347\272\277\347\250\213\344\272\244\346\233\277\346\211\223\345\215\260AB.md"[m
[36m@@ -0,0 +1,67 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: c++å¤šçº¿ç¨‹äº¤æ›¿æ‰“å°AB[m
[32m+[m[32mdate: 2022-05-09 15:09:30[m
[32m+[m[32mtags: [æ¡ä»¶å˜é‡,å¤šçº¿ç¨‹][m
[32m+[m[32mcategories: [c++][m
[32m+[m[32m---[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m-----------------------------[m
[32m+[m
[32m+[m[32m# c++äº¤æ›¿æ‰“å°AB[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <thread>[m
[32m+[m[32m#include <mutex>[m
[32m+[m[32m#include <condition_variable>[m
[32m+[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32mmutex mtx;[m
[32m+[m[32mcondition_variable cond_;[m
[32m+[m[32mbool flag = true;[m
[32m+[m
[32m+[m[32mvoid func1(){[m
[32m+[m[32m    unique_lock<mutex> locker(mtx);[m
[32m+[m[32m    while(true){[m
[32m+[m[32m/*[m[41m [m
[32m+[m[32m   è°ƒç”¨æ—¶, è°ƒç”¨çº¿ç¨‹ä¼šåˆ¤æ–­æ¡ä»¶ï¼Œå¦‚æœæ¡ä»¶æ˜¯falseï¼Œåˆ™é˜»å¡å¹¶é‡Šæ”¾é”ï¼Œå¦‚æœæ¡ä»¶æ˜¯trueï¼Œåˆ™ç›´æ¥è·³è¿‡waitæ‰§è¡Œä¸‹é¢çš„æ“ä½œ[m
[32m+[m[32m   å¦‚æœé˜»å¡ï¼Œåœ¨è¢«å…¶ä»–çº¿ç¨‹è°ƒç”¨notifyå”¤é†’åï¼Œå°è¯•è·å–é”ï¼Œå¦‚æœè·å–é”ï¼Œå†åˆ¤æ–­æ¡ä»¶æ˜¯å¦æ»¡è¶³ï¼Œå¦‚æœæ˜¯trueï¼Œåˆ™ç»§ç»­æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼Œå¦‚æœæ˜¯falseï¼Œåˆ™å¯¹äº’æ–¥é‡è§£é”ï¼Œå¹¶é˜»å¡è¯¥çº¿ç¨‹[m
[32m+[m[32m*/[m
[32m+[m[32m        // ç¬¬ä¸€æ¬¡æ‰§è¡Œç”±äºflag==trueä¸é˜»å¡[m[41m [m
[32m+[m[32m        cond_.wait(locker,[]->bool {return flag;}); // é˜»å¡æ—¶é‡Šæ”¾é”ï¼Œæ‰§è¡Œæ—¶è·å–é”[m
[32m+[m[32m        flag = false;[m
[32m+[m[32m        cout<<"AA";[m
[32m+[m[32m        cond_.notify_one(); // è°ƒç”¨æ—¶ï¼Œçº¿ç¨‹twoè¢«å”¤é†’ï¼Œä½†ç”±äºçº¿ç¨‹oneè¿˜æ²¡é‡Šæ”¾é”ï¼Œçº¿ç¨‹twoé˜»å¡ï¼Œç­‰å¾…çº¿ç¨‹oneé‡Šæ”¾ï¼Œå½“çº¿ç¨‹oneå†æ¬¡æ‰§è¡Œwait,ç”±äºflag==flaseï¼Œæ‰€ä»¥çº¿ç¨‹oneä¼šè¢«é˜»å¡ï¼ŒåŒæ—¶é‡Šæ”¾é”ï¼Œè¿™æ—¶çº¿ç¨‹twoè·å¾—é”ï¼Œåˆ¤æ–­flag==flaseï¼Œæ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œæœ€ååˆå”¤é†’oneï¼Œé‡å¤å¦‚æ­¤[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mvoid func2(){[m
[32m+[m[32m    unique_lock<mutex> locker(mtx);[m
[32m+[m[32m    while(true){[m
[32m+[m[32m        cond_.wait(locker,[]->bool {return !flag;});[m
[32m+[m[32m        flag = true;[m
[32m+[m[32m        cout<<"BB";[m
[32m+[m[32m        cond_.notify_one();[m
[32m+[m[32m    }[m[41m    [m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mint main(){[m
[32m+[m[32m    thread one(func1);[m
[32m+[m[32m    thread two(func2);[m
[32m+[m[32m    one.join();[m
[32m+[m[32m    two.join();[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[41m    [m
[32m+[m[32m```[m
[32m+[m
[1mdiff --git "a/hexo-blog/source/_posts/c-\345\257\271\350\261\241\347\232\204\347\211\271\346\256\212\346\210\220\345\221\230\345\207\275\346\225\260.md" "b/hexo-blog/source/_posts/c-\345\257\271\350\261\241\347\232\204\347\211\271\346\256\212\346\210\220\345\221\230\345\207\275\346\225\260.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..912dfaa[m
[1m--- /dev/null[m
[1m+++ "b/hexo-blog/source/_posts/c-\345\257\271\350\261\241\347\232\204\347\211\271\346\256\212\346\210\220\345\221\230\345\207\275\346\225\260.md"[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: c++å¯¹è±¡çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°[m
[32m+[m[32mdate: 2022-05-06 11:09:58[m
[32m+[m[32mcategories: [c++][m
[32m+[m[32mtags: [c++å¯¹è±¡][m
[32m+[m[32m---[m
[1mdiff --git "a/hexo-blog/source/_posts/c-\346\213\267\350\264\235\346\236\204\351\200\240\345\207\275\346\225\260\344\270\272\344\273\200\344\271\210\345\217\257\344\273\245\350\256\277\351\227\256\345\217\246\344\270\200\344\270\252\345\257\271\350\261\241\347\232\204\347\247\201\346\234\211\346\210\220\345\221\230.md" "b/hexo-blog/source/_posts/c-\346\213\267\350\264\235\346\236\204\351\200\240\345\207\275\346\225\260\344\270\272\344\273\200\344\271\210\345\217\257\344\273\245\350\256\277\351\227\256\345\217\246\344\270\200\344\270\252\345\257\271\350\261\241\347\232\204\347\247\201\346\234\211\346\210\220\345\221\230.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..ce59704[m
[1m--- /dev/null[m
[1m+++ "b/hexo-blog/source/_posts/c-\346\213\267\350\264\235\346\236\204\351\200\240\345\207\275\346\225\260\344\270\272\344\273\200\344\271\210\345\217\257\344\273\245\350\256\277\351\227\256\345\217\246\344\270\200\344\270\252\345\257\271\350\261\241\347\232\204\347\247\201\346\234\211\346\210\220\345\221\230.md"[m
[36m@@ -0,0 +1,71 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: c++æ‹·è´æ„é€ å‡½æ•°ä¸ºä»€ä¹ˆå¯ä»¥è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„ç§æœ‰æˆå‘˜[m
[32m+[m[32mcategories: [c++][m
[32m+[m[32mtags: [c++å¯¹è±¡][m
[32m+[m[32m---[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m-----------------------------------------[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m-------------------------------------------------------------[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32mclass Test{[m
[32m+[m[32mpublic:[m
[32m+[m[32m    /* é»˜è®¤æ„é€ å‡½æ•° */[m
[32m+[m[32m    Test(int _value = 0):value(_value){}[m
[32m+[m
[32m+[m[32m    /* å¤åˆ¶æ„é€ å‡½æ•° */[m
[32m+[m[32m    Test(const Test& rhs){[m
[32m+[m[32m        this->value = rhs.value;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    void print(const Test& rhs){[m
[32m+[m[32m        cout<<rhs.value<<endl;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32mprivate:[m
[32m+[m[32m    int value;[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mint main(){[m
[32m+[m[32m    Test t(1);[m
[32m+[m[32m    Test t2(t);[m
[32m+[m[32m    Test t3(2);[m
[32m+[m[32m    /* é€šè¿‡å¯¹è±¡publicå‡½æ•°è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„ç§æœ‰å˜é‡ */[m
[32m+[m[32m    t3.print(t2);[m[41m [m
[32m+[m[32m    // cout<<t2.value<<endl; // é€šè¿‡å¯¹è±¡è®¿é—®ç§æœ‰æˆå‘˜å˜é‡ï¼Œç¼–è¯‘å‡ºé”™[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32mâ€‹        **å°è£…æ˜¯ç¼–è¯‘æœŸçš„æ¦‚å¿µï¼Œæ˜¯é’ˆå¯¹ç±»å‹è€Œéå¯¹è±¡çš„ï¼Œåœ¨ç±»çš„æˆå‘˜å‡½æ•°ä¸­å¯ä»¥è®¿é—®åŒç±»å‹å®ä¾‹å¯¹è±¡çš„ç§æœ‰æˆå‘˜å˜é‡**[m
[32m+[m
[32m+[m[32må…·ä½“çš„è§£æå¦‚ä¸‹ï¼š**ä»å˜é‡valueçš„ç¬¦å·æ˜¯æ€ä¹ˆè§£æçš„åˆ†æ**ï¼[m
[32m+[m
[32m+[m[32m**1.ç¡®å®šç¬¦å·çš„æŸ¥æ‰¾åŸŸ**[m
[32m+[m
[32m+[m[32må½“ç¼–è¯‘å™¨å‘ç°valueå˜é‡æ—¶ï¼Œå®ƒä¼šåœ¨valueå˜é‡æ‰€å±çš„å¯¹è±¡rhsçš„ç±»åŸŸä¸­å¯»æ‰¾è¯¥ç¬¦å·ï¼[m
[32m+[m
[32m+[m[32m**2.ç¡®å®šå½“å‰åŸŸä¸­å“ªäº›ç¬¦å·å¯ä»¥è®¿é—®**[m
[32m+[m
[32m+[m[32mç”±ç¬¬1æ­¥å¯çŸ¥ï¼Œå½“å‰æŸ¥æ‰¾çš„åŸŸæ˜¯ç±»åŸŸï¼Œè€Œprintå‡½æ•°åœ¨Testç±»ä½“ä¸­ï¼Œæ‰€ä»¥printå¯ä»¥è®¿é—®Testç±»ä¸­çš„æ‰€æœ‰å˜é‡(åŒ…æ‹¬ç§æœ‰æˆå‘˜å˜é‡)ï¼Œå› è€Œvalueç¬¦å·åœ¨Testç±»åŸŸä¸­è¢«æ‰¾åˆ°ï¼[m
[32m+[m
[32m+[m[32mmainå‡½æ•°ä¸åœ¨Testç±»ä½“ä¸­ï¼Œæ‰€ä»¥mainå‡½æ•°ä¸å¯ä»¥è®¿é—®Testç±»åŸŸä¸­çš„ç§æœ‰æˆå‘˜å˜é‡ï¼[m
[32m+[m
[32m+[m[32m**3.ç¬¦å·å·²æŸ¥æ‰¾åˆ°ï¼Œç¼–è¯‘é€šè¿‡**[m
[32m+[m
[32m+[m[32mç±»æˆå‘˜å˜é‡çš„è®¿é—®æƒé™æ˜¯ç¼–è¯‘å™¨å¼ºåŠ çš„ï¼Œç¼–è¯‘å™¨å¯ä»¥æ‰¾åˆ°valueï¼Œé€šè¿‡ç¼–è¯‘ï¼Œè‡ªç„¶å°±å¯ä»¥è®¿é—®åˆ°valueå˜é‡çš„å€¼ï¼[m
[32m+[m
[32m+[m[32m**ç›´è§‰ä¸Šï¼Œæˆ‘ä»¬ä¼šä»¥ä¸ºä»£ç ä¸­valueç¬¦å·çš„æŸ¥æ‰¾åŸŸåº”è¯¥æ˜¯å¯¹è±¡rhså¯¹åº”çš„ä½œç”¨åŸŸï¼Œç„¶è€ŒC++ç¼–è¯‘å™¨çš„å®ç°å´æ˜¯åœ¨å¯¹è±¡rhsçš„ç±»åŸŸæŸ¥æ‰¾valueç¬¦å·ï¼**[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32må‚è€ƒæ–‡çŒ®ï¼š[m
[32m+[m
[32m+[m[32m1. [c++ç§æœ‰æˆå‘˜å˜é‡çš„ç†è§£](https://www.cnblogs.com/dwdxdy/archive/2012/07/17/2595741.html)[m
[1mdiff --git "a/hexo-blog/source/_posts/\345\215\225\344\276\213\346\250\241\345\274\217.md" "b/hexo-blog/source/_posts/\345\215\225\344\276\213\346\250\241\345\274\217.md"[m
[1mindex 7ea522d..aeebc26 100644[m
[1m--- "a/hexo-blog/source/_posts/\345\215\225\344\276\213\346\250\241\345\274\217.md"[m
[1m+++ "b/hexo-blog/source/_posts/\345\215\225\344\276\213\346\250\241\345\274\217.md"[m
[36m@@ -1,7 +1,114 @@[m
 ---[m
 title: å•ä¾‹æ¨¡å¼[m
[31m-date: 2022-04-26 21:17:23[m
 categories: [è®¾è®¡æ¨¡å¼][m
 tags: [å•ä¾‹æ¨¡å¼][m
 ---[m
[32m+[m[32m# é¥¿æ±‰æ¨¡å¼[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32mclass HungrySingleton{[m
[32m+[m[32mprivate:[m
[32m+[m[32m    int count = 0;[m
[32m+[m[32m    static HungrySingleton* instance;[m
[32m+[m[32m    HungrySingleton() = default;[m
[32m+[m[32mpublic:[m
[32m+[m[32m    ~HungrySingleton() = default;[m
[32m+[m[32m    static HungrySingleton* getInstance(){[m
[32m+[m[32m        return instance;[m
[32m+[m[32m    }[m
[32m+[m[32m    void showMessage(){[m
[32m+[m[32m        cout<<count<<endl;[m
[32m+[m[32m    }[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m/* åˆå§‹åŒ–ç±»é™æ€å˜é‡ */[m
[32m+[m[32mHungrySingleton* HungrySingleton::instance = new HungrySingleton();[m
[32m+[m
[32m+[m[32mint main(){[m
[32m+[m[32m    HungrySingleton* object = HungrySingleton::getInstance();[m
[32m+[m[32m    object->showMessage();[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m# æ‡’æ±‰æ¨¡å¼[m
[32m+[m
[32m+[m[32m## çº¿ç¨‹å®‰å…¨ï¼ˆåŒé‡æ ¡éªŒé”ï¼‰[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <mutex>[m
[32m+[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32mclass LazySingleton{[m
[32m+[m[32mprivate:[m
[32m+[m[32m    static LazySingleton* instance;[m
[32m+[m[32m    static mutex _lock;[m
[32m+[m[32m    int count = 1;[m
[32m+[m[32m    LazySingleton() = default;[m
[32m+[m[32mpublic:[m
[32m+[m[32m    ~LazySingleton() = default;[m
[32m+[m[32m    static LazySingleton* getInstance(){[m
[32m+[m[32m        /* ç¼©å°é”ç²’åº¦ï¼Œæé«˜æ•ˆç‡ */[m
[32m+[m[32m        if(instance==nullptr){[m
[32m+[m[32m            lock_guard<mutex> locker(_lock);[m
[32m+[m[32m            if(instance== nullptr){[m
[32m+[m[32m                instance = new LazySingleton;[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        return instance;[m
[32m+[m[32m    }[m
[32m+[m[32m    void showMessage(){[m
[32m+[m[32m        cout<<count;[m
[32m+[m[32m    }[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m/* åˆå§‹åŒ–ç±»é™æ€å˜é‡ */[m
[32m+[m[32mmutex LazySingleton::_lock;[m
[32m+[m[32mLazySingleton* LazySingleton::instance = nullptr;[m
[32m+[m
[32m+[m[32mint main() {[m
[32m+[m[32m    LazySingleton* object = LazySingleton::getInstance();[m
[32m+[m[32m    object->showMessage();[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m## çº¿ç¨‹å®‰å…¨ï¼ˆå±€éƒ¨é™æ€å˜é‡ï¼‰[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m
[32m+[m[32mclass LazySingleton{[m
[32m+[m[32mprivate:[m
[32m+[m[32m    int count = 1;[m
[32m+[m[32m    LazySingleton() = default;[m
[32m+[m[32mpublic:[m
[32m+[m[32m    ~LazySingleton() = default;[m
[32m+[m[32m    static LazySingleton* getInstance(){[m
[32m+[m[32m        /* å±€éƒ¨é™æ€å˜é‡åªä¼šåœ¨ç¬¬ä¸€æ¬¡å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–ï¼Œåœ¨c++11ä»¥åŠä¹‹åçš„ç‰ˆæœ¬å¯ä»¥åšåˆ°çº¿ç¨‹å®‰å…¨[m[41m [m
[32m+[m[32m        1.å˜é‡åœ¨ä»£ç ç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ°å˜é‡å£°æ˜çš„åœ°æ–¹æ—¶åˆå§‹åŒ–ã€‚[m
[32m+[m		[32m2.åˆå§‹åŒ–è¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸çš„è¯è§†ä¸ºæœªå®Œæˆåˆå§‹åŒ–ï¼Œæœªå®Œæˆåˆå§‹åŒ–çš„è¯ï¼Œéœ€è¦ä¸‹æ¬¡æœ‰ä»£ç æ‰§è¡Œåˆ°ç›¸åŒä½ç½®æ—¶å†æ¬¡åˆå§‹åŒ–ã€‚[m
[32m+[m[32m        3.åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œåˆ°éœ€è¦åˆå§‹åŒ–å˜é‡çš„åœ°æ–¹æ—¶ï¼Œå¦‚æœæœ‰å…¶ä»–çº¿ç¨‹æ­£åœ¨åˆå§‹åŒ–è¯¥å˜é‡ï¼Œåˆ™é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°åˆå§‹åŒ–å®Œæˆä¸ºæ­¢ã€‚[m
[32m+[m[32m        4.å¦‚æœåˆå§‹åŒ–è¿‡ç¨‹ä¸­å‘ç”Ÿäº†å¯¹åˆå§‹åŒ–çš„é€’å½’è°ƒç”¨ï¼Œåˆ™è§†ä¸ºæœªå®šä¹‰è¡Œä¸º[m
[32m+[m[32m        */[m
[32m+[m[32m        static LazySingleton instance;[m
[32m+[m[32m        return &instance;[m
[32m+[m[32m    }[m
[32m+[m[32m    void showMessage(){[m
[32m+[m[32m        cout<<count;[m
[32m+[m[32m    }[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mint main() {[m
[32m+[m[32m    LazySingleton* object = LazySingleton::getInstance();[m
[32m+[m[32m    object->showMessage();[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
 [m
[1mdiff --git "a/hexo-blog/source/_posts/\346\231\272\350\203\275\346\214\207\351\222\210\347\232\204\347\256\200\345\215\225\345\256\236\347\216\260.md" "b/hexo-blog/source/_posts/\346\231\272\350\203\275\346\214\207\351\222\210\347\232\204\347\256\200\345\215\225\345\256\236\347\216\260.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..5bae8d5[m
[1m--- /dev/null[m
[1m+++ "b/hexo-blog/source/_posts/\346\231\272\350\203\275\346\214\207\351\222\210\347\232\204\347\256\200\345\215\225\345\256\236\347\216\260.md"[m
[36m@@ -0,0 +1,229 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: æ™ºèƒ½æŒ‡é’ˆçš„ç®€å•å®ç°[m
[32m+[m[32mdate: 2022-05-06 09:31:04[m
[32m+[m[32mtags: [æ™ºèƒ½æŒ‡é’ˆ][m
[32m+[m[32mcategories: [c++][m
[32m+[m[32m---[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m--------------------------------------[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m# shared_ptrçš„ç®€å•å®ç°(éçº¿ç¨‹å®‰å…¨)[m
[32m+[m
[32m+[m[32mä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æˆå‘˜å‡½æ•°ï¼š[m
[32m+[m
[32m+[m[32m1. æ„é€ å‡½æ•°[m
[32m+[m
[32m+[m[32m2. ææ„å‡½æ•°[m
[32m+[m
[32m+[m[32m3. æ‹·è´æ„é€ å‡½æ•°[m
[32m+[m
[32m+[m[32m4. operator=()[m
[32m+[m[32m5. operator*()[m
[32m+[m[32m6. operator->()[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <cassert>[m
[32m+[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32mtemplate<typename T>[m
[32m+[m[32mclass shared_ptr{[m
[32m+[m[32mprivate:[m
[32m+[m[32m    size_t* p_count;[m
[32m+[m[32m    T* ptr;[m
[32m+[m[32mpublic:[m
[32m+[m[32m    explicit shared_ptr(T* _ptr = nullptr):ptr(_ptr){[m
[32m+[m[32m        if(ptr) p_count = new size_t(1);[m
[32m+[m[32m        else p_count = new size_t(0);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    shared_ptr(const shared_ptr<T>& rhs){[m
[32m+[m[32m        ptr = rhs.ptr;[m
[32m+[m[32m        p_count = rhs.p_count;[m
[32m+[m[32m        (*p_count)++;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /* è¿”å›å¼•ç”¨æ˜¯ä¸ºäº†æ»¡è¶³è¿ç»­å¤åˆ¶ æ¯”å¦‚A=B=C=1 */[m
[32m+[m[32m    shared_ptr<T>& operator=(const shared_ptr<T>& rhs){[m
[32m+[m[32m        /* å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€ */[m
[32m+[m[32m        if(this == &rhs) return *this;[m
[32m+[m
[32m+[m[32m        /* å¦‚æœshared_pträ¹‹å‰æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™éœ€è¦é‡Šæ”¾æ‰ç›¸åº”èµ„æº */[m
[32m+[m[32m        if(ptr){[m
[32m+[m[32m            (*p_count)--;[m
[32m+[m[32m            if((*p_count)==0){[m
[32m+[m[32m                delete ptr;[m
[32m+[m[32m                delete p_count;[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        /* å¤åˆ¶å¯¹è±¡ï¼Œå¹¶å¢åŠ è®¡æ•° */[m
[32m+[m[32m        ptr = rhs.ptr;[m
[32m+[m[32m        p_count = rhs.p_count;[m
[32m+[m[32m        (*p_count)++;[m
[32m+[m[32m        return *this;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /* é‡è½½* */[m
[32m+[m[32m    T& operator*(){[m
[32m+[m[32m        assert(ptr);[m
[32m+[m[32m        return *ptr;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /* é‡è½½-> */[m
[32m+[m[32m    T* operator->(){[m
[32m+[m[32m        assert(ptr);[m
[32m+[m[32m        return ptr;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    size_t use_count() const {[m
[32m+[m[32m        return *p_count;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    ~shared_ptr(){[m
[32m+[m[32m        (*p_count)--;[m
[32m+[m[32m        if((*p_count)==0){[m
[32m+[m[32m            delete ptr;[m
[32m+[m[32m            delete p_count;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mclass test{[m
[32m+[m[32mpublic:[m
[32m+[m[32m    int a = 1;[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mint main(){[m
[32m+[m[32m    shared_ptr<test> p1(new test); // é»˜è®¤æ„é€ å‡½æ•°[m
[32m+[m[32m    cout<<p1->a<<endl;[m
[32m+[m[32m    cout<<(*p1).a<<endl;[m
[32m+[m[32m    {[m
[32m+[m[32m        shared_ptr<test> p2(p1); // æ‹·è´æ„é€ å‡½æ•°[m
[32m+[m[32m        cout<<"p2:"<<p2.use_count()<<endl;[m
[32m+[m[32m        shared_ptr<test> p3 = p2; // æ‹·è´æ„é€ å‡½æ•°[m
[32m+[m[32m        cout<<"p2:"<<p2.use_count()<<endl;[m
[32m+[m[32m        cout<<"p3:"<<p3.use_count()<<endl;[m
[32m+[m
[32m+[m[32m        shared_ptr<test> p4(new test);[m
[32m+[m[32m        cout<<"Before p4:"<<p4.use_count()<<endl;[m
[32m+[m[32m        p4 = p3; // operator= èµ‹å€¼[m
[32m+[m[32m        cout<<"After p4:"<<p4.use_count()<<endl;[m
[32m+[m[32m    }[m
[32m+[m[32m    cout<<"p1:"<<p1.use_count()<<endl;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m# unique_ptrçš„ç®€å•å®ç°[m
[32m+[m
[32m+[m[32mä¸»è¦åŒ…æ‹¬ä¸€ä¸‹æˆå‘˜å‡½æ•°ï¼š[m
[32m+[m
[32m+[m[32m1. æ„é€ å‡½æ•°;[m
[32m+[m
[32m+[m[32m2. ç§»åŠ¨æ„é€ å‡½æ•°;[m
[32m+[m[32m3. ææ„å‡½æ•°ï¼›[m
[32m+[m[32m4. ç¦ç”¨æ‹·è´æ„é€ å‡½æ•°;[m
[32m+[m[32m5. ç¦ç”¨æ‹·è´èµ‹å€¼å‡½æ•° operator=();[m
[32m+[m[32m6. reset(): é‡Šæ”¾æºèµ„æºï¼ŒæŒ‡å‘æ–°èµ„æº;[m
[32m+[m[32m7. release(): è¿”å›èµ„æºï¼Œæ”¾å¼ƒå¯¹èµ„æºçš„ç®¡ç†;[m
[32m+[m[32m8. get(): è¿”å›èµ„æºï¼Œåªæ˜¯å…¬å¤–éƒ¨ä½¿ç”¨ï¼Œä¾ç„¶ç®¡ç†èµ„æº;[m
[32m+[m[32m9. operator bool(): æ˜¯å¦æŒæœ‰èµ„æº;[m
[32m+[m[32m10. operator*();[m
[32m+[m[32m11. operator->();[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <cassert>[m
[32m+[m
[32m+[m[32mtemplate<typename T>[m
[32m+[m[32mclass unique_ptr{[m
[32m+[m[32mprivate:[m
[32m+[m	[32mT* ptr;[m
[32m+[m[41m    [m
[32m+[m[32mpublic:[m
[32m+[m[32m    unique_ptr(T* _ptr):ptr(_ptr){};[m
[32m+[m[32m    /* ç§»åŠ¨æ„é€ å‡½æ•° */[m
[32m+[m[32m    unique_ptr(unique_ptr&& rhs):ptr(rhs.release()){};[m
[32m+[m[41m        [m
[32m+[m[32m    ~unique_ptr(){[m
[32m+[m[32m        if(ptr) delete ptr;[m
[32m+[m[32m        ptr = nullptr;[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    /* éœ€è¦ç¦æ­¢çš„é»˜è®¤æˆå‘˜å‡½æ•° */[m
[32m+[m[32m    unique_ptr(const unique_ptr& rhs) = delete;[m
[32m+[m[32m    unique_ptr& operator=(const unique_ptr& rhs) = delete;[m
[32m+[m[41m    [m
[32m+[m[32mpublic:[m
[32m+[m[32m    /* é‡Šæ”¾æºèµ„æºï¼ŒæŒ‡å‘æ–°èµ„æº */[m
[32m+[m[32m    void reset(T* _ptr){[m
[32m+[m[32m        if(ptr) delete ptr;[m
[32m+[m[32m        ptr = _ptr;[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    /* è¿”å›èµ„æºï¼Œæ”¾å¼ƒå¯¹èµ„æºçš„ç®¡ç† */[m
[32m+[m[32m    T* release(){[m
[32m+[m[32m        T* pTemp = ptr;[m
[32m+[m[32m        ptr = nullptr;[m
[32m+[m[32m        return pTemp;[m
[32m+[m[32m    }[m
[32m+[m[32m    /* è¿”å›èµ„æºï¼Œåªæ˜¯å…¬å¤–éƒ¨ä½¿ç”¨ï¼Œä¾ç„¶ç®¡ç†èµ„æº */[m
[32m+[m[32m    T* get(){[m
[32m+[m[32m        return ptr;[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32mpublic:[m
[32m+[m[32m    /* é‡è½½bool() */[m
[32m+[m[32m    explicit operator bool() const{[m
[32m+[m[32m        return ptr != nullptr;[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    T& operator*(){[m
[32m+[m[32m        assert(ptr);[m
[32m+[m[32m        return *ptr;[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    T* operator->(){[m
[32m+[m[32m        assert(ptr);[m
[32m+[m[32m        return ptr;[m
[32m+[m[32m    }[m[41m   [m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mclass test{[m
[32m+[m[32mpublic:[m
[32m+[m[32m    int a = 1;[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mint main(){[m
[32m+[m[32m    unique_ptr<test> x(new test);[m
[32m+[m[32m    cout<<"x->a:"<<(*x).a<<endl;[m
[32m+[m[32m    unique_ptr<test> y = move(x);[m
[32m+[m[32m    //test* aaa = x.get();[m
[32m+[m[32m    if(!x) cout<<"Moved x!!"<<endl;[m
[32m+[m[32m    cout<<"y->a:"<<y->a<<endl;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32må‚è€ƒæ–‡çŒ®ï¼š[m
[32m+[m
[32m+[m[32m[1] https://zhuanlan.zhihu.com/p/344953368[m
[32m+[m
[32m+[m[32m[2] https://www.ccppcoding.com/archives/202[m
[1mdiff --git "a/hexo-blog/source/_posts/\351\235\242\350\257\225\345\270\270\350\247\201\347\232\204\346\216\222\345\272\217.md" "b/hexo-blog/source/_posts/\351\235\242\350\257\225\345\270\270\350\247\201\347\232\204\346\216\222\345\272\217.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..ffcf076[m
[1m--- /dev/null[m
[1m+++ "b/hexo-blog/source/_posts/\351\235\242\350\257\225\345\270\270\350\247\201\347\232\204\346\216\222\345\272\217.md"[m
[36m@@ -0,0 +1,209 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: é¢è¯•å¸¸è§çš„æ’åº[m
[32m+[m[32mdate: 2022-05-05 12:39:54[m
[32m+[m[32mtags: [æ’åº][m
[32m+[m[32mcategories: [ç®—æ³•,é¢è¯•][m
[32m+[m[32m---[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m---------------------------[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m![å„ç§æ’åºå¤æ‚åº¦ä»¥åŠç¨³å®šæ€§](https://cdn.jsdelivr.net/gh/DJtang/picx_ima@main/å„ç§æ’åºå¤æ‚åº¦ä»¥åŠç¨³å®šæ€§.43qxyiwpqwc0.webp)[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m## ä¸€ã€å¿«é€Ÿæ’åº[m
[32m+[m
[32m+[m[32mâ€‹	å¿«é€Ÿæ’åºå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºo(nlogn)ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦ä¸ºo(n^2)ï¼Œä¸ç¨³å®š;[m
[32m+[m
[32m+[m[32mâ€‹	ä¸»è¦å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥ä¼˜åŒ–ï¼š[m
[32m+[m
[32m+[m[32m1. ä¸‰æ•°å–ä¸­ï¼Œä½¿é€‰æ‹©çš„â€œæ ‡æ†â€èƒ½å¤Ÿå°½é‡çš„å°†æ•°ç»„å¹³å‡åˆ’åˆ†æˆä¸¤åŠï¼Œé¿å…é€‰æ‹©åˆ°è¾¹ç•Œå€¼ä½¿æ—¶é—´å¤æ‚åº¦é€€åŒ–åˆ°o(n^2)ï¼›[m
[32m+[m[32m2. åŒæŒ‡é’ˆæ“ä½œï¼Œå‡å°‘åœ¨å¯¹æ¯”æ—¶çš„äº¤æ¢æ¬¡æ•°ï¼›[m
[32m+[m[32m3. æ¯æ¬¡éå†é›†ä¸­æ”¾ç½®ä¸â€œæ ‡æ†â€ç›¸åŒçš„å€¼ï¼Œå‡å°‘é€’å½’æ·±åº¦ï¼›[m
[32m+[m
[32m+[m[32mâ€‹[m[41m	[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <vector>[m
[32m+[m[32m#include <algorithm>[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32mvoid quickSort(int start, int end, vector<int>& nums){[m
[32m+[m[32m    if(start>=end) return;[m
[32m+[m[32m    int left = start;[m
[32m+[m[32m    int right = end;[m
[32m+[m[32m    int mid = (left + right) / 2;[m
[32m+[m[32m    /* ä¸‰æ•°å–ä¸­ */[m
[32m+[m[32m    if((nums[left]<nums[mid]&&nums[mid]<nums[right])||(nums[left]>nums[mid]&&nums[mid]>nums[right])){[m
[32m+[m[32m        swap(nums[left],nums[mid]);[m
[32m+[m[32m    }[m
[32m+[m[32m    else if((nums[left]<nums[right]&&nums[right]<nums[mid])||(nums[left]>nums[right]&&nums[right]>nums[mid])){[m
[32m+[m[32m        swap(nums[left],nums[right]);[m
[32m+[m[32m    }[m
[32m+[m[32m    /* åŒæŒ‡é’ˆ */[m
[32m+[m[32m    while(left<right){[m
[32m+[m[32m        while(left<right&&nums[start]<=nums[right]) right--;[m
[32m+[m[32m        while(left<right&&nums[start]>=nums[left]) left++;[m
[32m+[m[32m        if(left<right) swap(nums[left],nums[right]);[m
[32m+[m[32m    }[m
[32m+[m[32m    swap(nums[start],nums[left]);[m
[32m+[m[41m    [m
[32m+[m[32m    /* é€’å½’è°ƒç”¨ */[m
[32m+[m[32m    quickSort(start,left-1,nums);[m
[32m+[m[32m    quickSort(left+1,end,nums);[m
[32m+[m[32m    return;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mint main() {[m
[32m+[m[32m    vector<int> nums = {2,5,1,6,8,4,2,8,1,25,8};[m
[32m+[m[32m    quickSort(0,nums.size()-1,nums);[m
[32m+[m[32m    for(int i=0;i<nums.size();i++){[m
[32m+[m[32m        cout<<nums[i]<<",";[m
[32m+[m[32m    }[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m## äºŒã€å½’å¹¶æ’åº[m
[32m+[m
[32m+[m[32må½’å¹¶æ’åºæ—¶é—´å¤æ‚åº¦ä¸ºo(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºo(n)ï¼Œç¨³å®š;[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <vector>[m
[32m+[m[32m#include <algorithm>[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32mvoid mergeSort(int start, int end, vector<int>& nums, vector<int>& temp){[m
[32m+[m[32m    if(start>=end) return;[m
[32m+[m[32m    /* é€’å½’åˆ†å‰² */[m
[32m+[m[32m    int mid = (start + end) / 2;[m
[32m+[m[32m    mergeSort(start,mid,nums,temp);[m
[32m+[m[32m    mergeSort(mid+1,end,nums,temp);[m
[32m+[m[32m    /* åˆå¹¶ */[m
[32m+[m[32m    int index = start;[m
[32m+[m[32m    int left = start;[m
[32m+[m[32m    int right = mid + 1;[m
[32m+[m[32m    while(left<=mid||right<=end){[m
[32m+[m[32m        int x = left<=mid?nums[left]:INT_MAX;[m
[32m+[m[32m        int y = right<=end?nums[right]:INT_MAX;[m
[32m+[m[32m        temp[index] = min(x,y);[m
[32m+[m[32m        if(temp[index]==x) left++;[m
[32m+[m[32m        else right++;[m
[32m+[m[32m        index++;[m
[32m+[m[32m    }[m
[32m+[m[41m  [m	[32m// å¤åˆ¶ç»“æœ[m
[32m+[m[32m    for(int i=start;i<=end;i++) nums[i] = temp[i];[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mint main() {[m
[32m+[m[32m    vector<int> nums = {2,5,1,6,8,4,2,8,1,25,8};[m
[32m+[m[32m    vector<int> temp(nums.size(),0);[m
[32m+[m[32m    mergesSort(0,nums.size()-1,nums,temp);[m
[32m+[m[32m    for(int i=0;i<nums.size();i++){[m
[32m+[m[32m        cout<<nums[i]<<",";[m
[32m+[m[32m    }[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m## ä¸‰ã€å †æ’åº[m
[32m+[m
[32m+[m[32må †æ’åºæ—¶é—´å¤æ‚åº¦ä¸ºo(nlogn)ï¼Œç©ºé—´æ—¶é—´å¤æ‚åº¦ä¸ºo(1)ï¼Œä¸ç¨³å®š;[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <vector>[m
[32m+[m[32m#include <algorithm>[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32m/* å‘ä¸‹è°ƒæ•´å † */[m
[32m+[m[32mvoid siftDown(int index, int end, vector<int>& nums){[m
[32m+[m[32m    if(index>=end) return;[m
[32m+[m[32m    int left = index*2 + 1;[m
[32m+[m[32m    int right = left + 1;[m
[32m+[m[32m    int max_index = index;[m
[32m+[m[32m    if(left<=end&&nums[left]>nums[max_index]) max_index = left;[m
[32m+[m[32m    if(right<=end&&nums[right]>nums[max_index]) max_index = right;[m
[32m+[m[32m    if(max_index!=index){[m
[32m+[m[32m        swap(nums[index],nums[max_index]);[m
[32m+[m[32m        siftDown(max_index,end,nums);[m
[32m+[m[32m    }[m
[32m+[m[32m    return;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mvoid heapSort(vector<int>& nums){[m
[32m+[m[32m    int len = nums.size();[m
[32m+[m[32m    /* å»ºå † */[m
[32m+[m[32m    for(int i=len/2-1;i>=0;i--){[m
[32m+[m[32m        siftDown(i,len-1,nums);[m
[32m+[m[32m    }[m
[32m+[m[41m 	[m
[32m+[m[32m    /* å †æ’åº */[m
[32m+[m[32m    for(int i=len-1;i>0;i--){[m
[32m+[m[41m    [m	[32msiftDown(0,i,nums);[m
[32m+[m[32m        swap(nums[0],nums[i]);[m
[32m+[m[32m    }[m
[32m+[m[32m    return;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mint main() {[m
[32m+[m[32m    vector<int> nums = {2,5,1,6,8,4,2,8,1,25,8};[m
[32m+[m[32m    heapSort(nums);[m
[32m+[m[32m    for(int i=0;i<nums.size();i++){[m
[32m+[m[32m        cout<<nums[i]<<",";[m
[32m+[m[32m    }[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m## å››ã€å¸Œå°”æ’åº[m
[32m+[m
[32m+[m[32må¸Œå°”æ’åºæ—¶é—´å¤æ‚åº¦ä¸ºo(nlogn)ï¼Œç©ºé—´æ—¶é—´å¤æ‚åº¦ä¸ºo(1)ï¼Œä¸ç¨³å®š;[m
[32m+[m
[32m+[m[32m```c++[m
[32m+[m[32m#include <iostream>[m
[32m+[m[32m#include <vector>[m
[32m+[m[32m#include <algorithm>[m
[32m+[m[32musing namespace std;[m
[32m+[m
[32m+[m[32mvoid shellSort(vector<int>& nums){[m
[32m+[m[32m    int len = nums.size();[m
[32m+[m[32m    for(int k=2;k>0;k/=2){[m
[32m+[m[32m        for(int i=k;i<len;i++){[m
[32m+[m[32m            for(int j=i-k;j>=0;j-=k){[m
[32m+[m[32m                if(nums[j]>nums[j+k]) swap(nums[j],nums[j+k]);[m
[32m+[m[32m                else break;[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32mint main() {[m
[32m+[m[32m    vector<int> nums = {2,5,1,6,8,4,2,8,1,25,8};[m
[32m+[m[32m    shellSort(nums);[m
[32m+[m[32m    for(int i=0;i<nums.size();i++){[m
[32m+[m[32m        cout<<nums[i]<<",";[m
[32m+[m[32m    }[m
[32m+[m[32m    return 0;[m
[32m+[m[32m}[m
[32m+[m[32m```[m
[32m+[m
[1mdiff --git "a/hexo-blog/source/_posts/\351\253\230\345\271\266\345\217\221\347\263\273\347\273\237\350\256\276\350\256\241-\346\225\260\346\215\256\345\272\223\347\257\207.md" "b/hexo-blog/source/_posts/\351\253\230\345\271\266\345\217\221\347\263\273\347\273\237\350\256\276\350\256\241-\346\225\260\346\215\256\345\272\223\347\257\207.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..38e907a[m
[1m--- /dev/null[m
[1m+++ "b/hexo-blog/source/_posts/\351\253\230\345\271\266\345\217\221\347\263\273\347\273\237\350\256\276\350\256\241-\346\225\260\346\215\256\345\272\223\347\257\207.md"[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m---[m
[32m+[m[32mtitle: é«˜å¹¶å‘ç³»ç»Ÿè®¾è®¡-æ•°æ®åº“ç¯‡[m
[32m+[m[32mdate: 2022-05-11 17:33:19[m
[32m+[m[32mtags:[m
[32m+[m[32m---[m
